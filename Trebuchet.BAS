
0 ?"SCORE AND LEVELS":LEVEL=0:M=63
10 SCR=0:DIM X2(40):DIM Y2(40):DIM C2(40)
100 TRY=1
101 COLOR 5
200 ?:?"Choose Projectile's Initial Speed and Direction:":?
201 ?"-- SETUP PLAYFIELD --":?
203 GOSUB 8000
1000 REM Trebuchet
1010 REM Quite BASIC Game Project
1011 REM Fifty1Ford added score, sun, and changed to BE6502 EhBasic
2010 ? "A trebuchet is a type of medieval weapon that "
2011 ? "    was used to throw projectiles into an enemy"
2012 ? "    fortification.  "
2013 ? "In this game your job is to throw a projectile"
2014 ? "     from the GREEN base to hit the RED target. "
2015 ? "You control the flight by selecting the initial "
2016 ? "    speed and angle."
2017 ? "--The speed must be between 1 and 10--"
2018 ? "--The angle must be between 90 (straight up)-- "
2019 ? "--and 0 (straight to the right)--"
2000 REM 
2030 A=RND(0)*25+0.5
2040 B=RND(0)*25+0.5:POKE $EC,0
2060 FOR I=0 TO 24:FOR J=0 TO M
2070 IF J <=A THEN PLOT I,M-J
2071 NEXT J:NEXT I
2090 FOR I=25 TO 49:FOR J=0 TO M
2100 IF J<=B THEN PLOT I,M-J
2101 NEXT J:NEXT I
2120 IF A>B THEN S=-1 ELSE S=1
2130 FOR I=A TO B+6 STEP S:POKE $EC,36:PLOT 25,M-I:NEXT I
2170 POKE $EC,12:PLOT 10,M-A:POKE $EC,48:PLOT 39,M-B
2200 PLOT 40, M-B:PLOT 41,M-B
2230 FOR I=B+1 TO B+3
2240 POKE $EC,21:PLOT 39,M-I:PLOT 40,M-I
2260 PLOT 41,M-I:PLOT 38,M-I-2:PLOT 42,M-I-1:PLOT 40,M-I-3
2300 NEXT I
3010 X=10:Y=A+1
3040 INPUT "Speed (1-10)?";P:SPEED=P
3050 IF P>=1 AND P<=10 THEN GOTO 3080
3060 ? "Speed must be between 1 and 10"
3070 GOTO 3040
3080 INPUT "Angle (0 - 90)?";F
3090 IF F>=0 AND F<=90 THEN GOTO 3150
3100 ? "The angle must be between 0 and 90"
3120 GOTO 3080
3150 U=P/5*COS(F/180*PI)
3170 V=P/5*SIN(F/180*PI)
3175 POKE $EC,5:IF M-Y>=0 THEN PLOT X, M-Y
3210 X=X+U:Y=Y+V
3240 IF X<25 AND Y<A THEN 4000
3250 IF X>99 THEN 4000
3260 IF X>25 AND Y<B THEN 3510
3261 IF X>79 AND X<90 AND Y>45 AND Y<57 THEN 7000
3275 POKE $EC,60
3280 IF Y<M THEN PLOT X,M-Y
3310 V=V-0.02:GOTO 3175
3510 IF ABS(X-40)>2 THEN GOTO 4000
3515 ?
3516 ?"SCR=","1+SPEED","-TRY":?
3517 ?SCR,"1+";SPEED,TRY:?
3520 OSCR=SCR:SCR=1+SPEED:SCR=SCR-TRY
3521 ?:?"Hit! You win! TRY: "; TRY;" LEVEL: ";LEVEL;" ";OSCR
3522 SCR=(1+LEVEL)*SCR:IF SCR<1 THEN SCR=1
3523 ?"   ****  LEVEL SCORE : ";SCR;"  ****":?
3524 SCR=OSCR+SCR
3525 ?"   ****  TOTAL SCORE : ";SCR;"  ****":?
3526 ?:?"OSCR","SCR","SPEED","TRY"
3527 ? OSCR, SCR, SPEED, TRY
3530 GOSUB 6000
3780 INC LEVEL:GOTO 100
3790 IF Y2(I)<B+3 THEN POKE $EC,0 ELSE POKE $EC,5
3791 PLOT X2(I),M-Y2(I):NEXT I

4000 ?:INC TRY:?"Miss!":?"TRY: "; TRY;" LEVEL: ";LEVEL:?
4010 GOTO 3010

5000 REM Subroutine -- draw a circle
5010 POKE $EC,CC:FOR CF=0 TO CN
5020 PLOT CX+CR*SIN(CF/CN*2*PI),CY+CR*COS(CF/CN*2*PI):NEXT 
5040 RETURN

6000 REM SUB EXPLOSION 
6570 FOR I=1 TO 40
6580 X2(I)=RND(0)*5+38
6590 Y2(I)=RND(0)*5+B
6600 C2(I)=52
6610 NEXT I
6620 FOR J=1 TO 5:FOR I=1 TO 40
6640 IF Y2(I)<B+3 THEN POKE $EC,0 ELSE POKE $EC,5
6641 PLOT X2(I),M-Y2(I)
6650 Y2(I)=Y2(I)+1
6660 POKE $EC,C2(I):PLOT X2(I),M-Y2(I)
6670 IF RND(0)>0.8 THEN C2(I)=48
6680 IF RND(0)>0.8 THEN C2(I)=52
6690 IF RND(0)>0.8 THEN C2(I)=60
6700 IF RND(0)>0.3 AND Y2(I)<B+9 THEN 6750
6710 IF Y2(I)<B+3 THEN POKE $EC,0 ELSE POKE $EC,5
6711 PLOT X2(I),M-Y2(I)
6720 X2(I)=RND(0)*5+38:Y2(I)=B:C2(I)=52
6750 REM PAUSE
6760 NEXT I:NEXT J
6800 RETURN


7000 COLOR 48
7001 ?:?:?"XXXXXXXXXXXXXXXX":?
7002 ?"YOU BLEW UP THE SUN!"
7003 ?:?:?"XXXXXXXXXXXXXXXX":?
7004 ?"SCORE:  XXXXXXX "
7050 FOR I=1 TO 1000:WW=WW+WW*.5:NEXT I
7051 GOTO 100


8000 REM SUB SUN
8231 CX=80:CY=10:CN=20
8232 CC=52:CR=1:GOSUB 5010
8233 CC=36:CR=2:GOSUB 5010
8234 CC=56:CR=3:GOSUB 5010
8235 CC=60:CR=4:GOSUB 5010:CR=5:GOSUB 5010:CR=6:GOSUB 5010
8236 CC=63:CR=7:GOSUB 5010
8500 RETURN
